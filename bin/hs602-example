#!/usr/bin/env python3
# -*- coding: utf-8 -*-
#
#  hs602-example
#
#  Copyright 2017 Mark Clarkstone <git@markclarkstone.co.uk>
#
#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.
#
#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.
#
#  You should have received a copy of the GNU General Public License
#  along with this program; if not, write to the Free Software
#  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
#  MA 02110-1301, USA.
#
#
from hs602.controller import Controller

input('This is an example script to control the HS602 capture '
      'device..\nPress enter to continue, or ctrl+c to exit.')

print('Please wait..')
print(''.ljust(80, '-'))

# Create a new object..
#
# You can pass a number of options as keywords here.
# There is usually no need to set an addr (unless you have more than
# one device or none are discovered automatically).
#
device = Controller()

# Set input source - Uncomment (remove "# " to execute).
# use 1 to set analogue / anything else to set hdmi
# device.source = 0

# Get input source.
# Can be just device.source if desired.
print('Input source: {}'.format(device.source_str))

# Get input resolution.
print('Input resolution: {}'.format(device.resolution_str))

# Set picture settings - Uncomment (remove "# " to execute).
# 0 - 255, default 128.
# device.size = 1920, 1080
# device.brightness = 128
# device.contrast = 128
# device.hue = 128
# device.saturation = 128

# Get picture settings/colours.
print('Picture size: {}'.format(device.size_str))
print('Picture brightness: {}'.format(device.brightness))
print('Picture contrast: {}'.format(device.contrast))
print('Picture hue: {}'.format(device.hue))
print('Picture saturation: {}'.format(device.hue))

# Set rtmp - Max 255 in length, uncomment (remove "# " to execute).
# device.username = 'foo'
# device.password = 'bar'
# device.url = 'rtmp://foo.com/upload/push'
# device.key = 'secret'

# Get rtmp details.
print('RTMP username: {}'.format(device.username))
print('RTMP password: {}'.format(device.password))
print('RTMP url: {}'.format(device.url))
print('RTMP key: {}'.format(device.key))

# Set stream average bitrate - 500 - 8000
# Uncomment (remove "# " to execute).
# device.bitrate = 8000

# Get streaming bitrate.
print('Stream (output) bitrate: {}kbps'.format(device.bitrate))

# Toggle streaming - you can set any value here, uncomment (remove
# "# " to execute).
# device.toggle = True

# Get stream state.
print('Streaming: {}'.format(device.toggle))

# Done
print(''.ljust(80, '-'))
input('Finished, press any key to exit!')
